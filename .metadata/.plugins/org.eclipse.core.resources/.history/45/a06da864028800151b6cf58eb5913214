/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package lycus;

import java.util.ArrayList;
import java.util.UUID;

/**
 *
 * @author Roi
 */
public class PingerProbe extends Probe {

    private int count;
    private int bytes;
    private int timeout;

    PingerProbe() {
    }

    PingerProbe(User user,String probe_id,UUID template_id,String name,long interval,float multiplier,boolean status,int timeout, int count, int bytes) {
        super(user,probe_id,template_id,name,interval,multiplier,status);
        this.count = count;
        this.bytes = bytes;
        this.timeout=timeout;
    }
  // Getters/Setters
    /**
     * @return the count
     */
    public int getCount() {
        return count;
    }

    /**
     * @param count the count to set
     */
    public void setCount(int count) {
        this.count = count;
    }

    public int getTimeout() {
		return timeout;
	}

	public void setTimeout(int timeout) {
		this.timeout = timeout;
	}

	/**
     * @return the bytes
     */
    public int getBytes() {
        return bytes;
    }

    /**
     * @param bytes the bytes to set
     */
    public void setBytes(int bytes) {
        this.bytes = bytes;
    }
    
    public void updateProbeAttributes(String probeNewName, long probeNewInterval, float probeNewMultiplier,
			boolean probeNewStatus,int newCount,int newBytes,int newTimeout)
    {
    	super.updateProbe(probeNewName, probeNewInterval, probeNewMultiplier, probeNewStatus);
    	this.setCount(newCount);
    	this.setBytes(newBytes);
    	this.setTimeout(newTimeout);
    }
    
    @Override
    public ArrayList<Object> Check(Host h)
    {
    	String rpStr = h.getHostId()+"@"+this.getProbe_id();
		if (rpStr.contains(
				"788b1b9e-d753-4dfa-ac46-61c4374eeb84@inner_33695a83-654d-4177-b90d-0a89c5f0120d"))
			System.out.println("TEST");
    	ArrayList<Object> results=Net.Pinger(h.getHostIp(), this.getCount(), this.getBytes(), this.getTimeout());
    	return results;
    }
    
    @Override
    public String toString()
    {
    StringBuilder s=new StringBuilder(super.toString());
    s.append("Num Of Pings:").append(this.getCount()).append("; ");
    s.append("Num Of Bytes:").append(this.getBytes()).append("; ");
    s.append("Timeout:").append(this.getTimeout()).append("; ");
    return s.toString();
    }
}
